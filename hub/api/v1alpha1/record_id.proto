syntax = "proto3";

package saas.v1alpha1;

option go_package = "github.com/cisco-eti/phoenix-saas-be/api/saas/v1alpha1";

import "buf/validate/validate.proto";
import "saas/v1alpha1/repo_version_id.proto";

message RecordIdentifier {
  oneof id {
    option (buf.validate.oneof).required = true;

    RepoVersionId repo_version_id = 2;
    string digest = 3  [(buf.validate.field).string.pattern = "^sha256:[a-fA-F0-9]{64}$"];
  }
}